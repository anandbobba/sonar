â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘              ğŸ¨ RVIZ VISUALIZATION NOW AVAILABLE!                         â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ… WHAT'S NEW                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

RViz2 is now automatically launched with the system!

You will see TWO windows:
  1. ğŸ® Gazebo - 3D physics simulation
  2. ğŸ¨ RViz - Robot visualization & monitoring

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¨ WHAT YOU'LL SEE IN RVIZ                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âœ¨ Robot Model
   â””â”€> Full 3D visualization of the robot
       â€¢ Base platform
       â€¢ Wheels (spinning when moving)
       â€¢ Lidar sensor
       â€¢ Microphone link

ğŸ“¡ Lidar Scan (Red dots)
   â””â”€> 360Â° laser scan visualization
       â€¢ Shows obstacles detected
       â€¢ Updates in real-time
       â€¢ Red flat squares

ğŸ¯ Sound Source Marker (Yellow)
   â””â”€> Multiple visual indicators:
       â€¢ Pulsing yellow sphere at target
       â€¢ Yellow beam from ground to source
       â€¢ Red arrow pointing down
       â€¢ Text label showing coordinates
       â€¢ Animated pulsing effect!

ğŸš¨ Alert Markers
   â””â”€> When whistle is detected:
       â€¢ Colored spheres at detection location
       â€¢ Color indicates severity:
         * Red = Critical
         * Orange = High
         * Yellow = Medium
         * Blue = Low
       â€¢ Text labels with alert info
       â€¢ Persist for 30 seconds

ğŸ“ Coordinate Frames (TF)
   â””â”€> Shows robot coordinate system
       â€¢ odom (world frame)
       â€¢ base_footprint
       â€¢ base_link
       â€¢ lidar_link
       â€¢ microphone_link
       â€¢ All wheel frames

ğŸ”µ Grid
   â””â”€> Reference grid with 1m squares
       â€¢ Helps visualize distances
       â€¢ Centered on robot start position

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸš€ HOW TO RUN (NO CHANGE NEEDED!)                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Just run as before - RViz starts automatically:

  ./demo.sh
  
  Then select option 1 or 2!

Both Gazebo AND RViz will open together.

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ›ï¸ RVIZ CONTROLS & TIPS                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ–±ï¸ MOUSE CONTROLS:
   Left Click + Drag ........ Rotate view
   Middle Click + Drag ...... Pan view
   Scroll Wheel ............. Zoom in/out
   Right Click .............. Context menu

ğŸ“ VIEW OPTIONS (Top toolbar):
   Interact ................. Default mode
   Move Camera .............. Reposition view
   Select ................... Select objects
   Focus Camera ............. Focus on selection
   Measure .................. Measure distances
   2D Pose Estimate ......... Set robot pose
   2D Nav Goal .............. Set navigation goal

ğŸ¨ DISPLAY PANEL (Left side):
   Check/Uncheck items to show/hide:
   â˜‘ Grid ................... Show reference grid
   â˜‘ TF ..................... Show coordinate frames
   â˜‘ Robot Model ............ Show robot
   â˜‘ LaserScan .............. Show lidar data
   â˜‘ Alert Markers .......... Show alert spheres
   â˜‘ Sound Source Marker .... Show target marker

âš™ï¸ BEST VIEW SETTINGS:
   1. Keep "Orbit" view type (default)
   2. Set Focal Point to (1.5, 1.5, 0) to center on action
   3. Distance: 10m for overview
   4. Pitch: ~45Â° (0.785 rad) for angled view
   5. Yaw: ~45Â° (0.785 rad) for diagonal view

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¬ WATCHING THE ACTION                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1ï¸âƒ£  System starts - You'll see:
    â€¢ Gazebo window (physics simulation)
    â€¢ RViz window (visualization)
    â€¢ Robot at origin (0, 0)
    â€¢ Yellow pulsing sphere at target

2ï¸âƒ£  Enable sound in NEW terminal:
    ros2 param set /microphone_simulator whistle_intensity 0.6

3ï¸âƒ£  Watch in BOTH windows:
    
    IN GAZEBO:
    â€¢ Robot physically moves
    â€¢ Wheels rotate
    â€¢ Robot navigates around obstacles
    
    IN RVIZ:
    â€¢ Red lidar dots show obstacles
    â€¢ Robot model moves smoothly
    â€¢ TF frames update
    â€¢ Sound source marker pulses
    â€¢ Path traced toward target

4ï¸âƒ£  When whistle detected (>0.7):
    â€¢ Alert sphere appears at robot location
    â€¢ Color based on severity
    â€¢ Text label with alert ID
    â€¢ Marker persists for 30 seconds

5ï¸âƒ£  Robot reaches target:
    â€¢ Stops near yellow sphere
    â€¢ Mission complete!

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”§ CUSTOMIZING RVIZ VIEW                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Want to change what you see?

1. Adjust Display Properties (left panel):
   â€¢ Click on any display item
   â€¢ Expand to see properties
   â€¢ Change colors, sizes, opacity

2. Example customizations:
   
   Change lidar color:
   â€¢ Click "LaserScan"
   â€¢ Find "Color Transformer"
   â€¢ Change to "Intensity" or keep "FlatColor"
   â€¢ Adjust "Color" property
   
   Change grid size:
   â€¢ Click "Grid"
   â€¢ Change "Cell Size" (default: 1m)
   â€¢ Change "Plane Cell Count" for more/less cells
   
   Hide TF axes:
   â€¢ Click "TF"
   â€¢ Uncheck "Show Axes"
   â€¢ Or uncheck "Show Names"

3. Save your configuration:
   File â†’ Save Config As...
   (saves to ~/.rviz2/ or custom location)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ› TROUBLESHOOTING RVIZ                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âŒ RViz doesn't open:
   â€¢ Install rviz2: sudo apt install ros-humble-rviz2
   â€¢ Check if already running: pkill rviz2

âŒ "Fixed Frame [odom] does not exist":
   â€¢ Wait a few seconds - takes time to initialize
   â€¢ Check robot_state_publisher is running
   â€¢ Verify tf is being published

âŒ Robot model not showing:
   â€¢ Check "Robot Model" is enabled (checkmark)
   â€¢ Wait for robot_description topic
   â€¢ Verify robot spawned in Gazebo

âŒ Lidar scan not visible:
   â€¢ Check "LaserScan" is enabled
   â€¢ Verify /scan topic has data:
     ros2 topic echo /scan --once
   â€¢ Try changing "Style" to "Points" or "Spheres"

âŒ Sound source marker not showing:
   â€¢ Check "Sound Source Marker" is enabled
   â€¢ Verify visualizer node is running:
     ros2 node list | grep sound_source
   â€¢ Check topic:
     ros2 topic echo /sound_source_marker

âŒ RViz window too cluttered:
   â€¢ Hide elements you don't need
   â€¢ Uncheck Grid if not needed
   â€¢ Hide TF if axes are distracting
   â€¢ Reduce marker sizes in properties

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“Š MONITORING WITH RVIZ                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Use RViz to monitor:

âœ… Robot Position
   â†’ Watch coordinates in TF frame

âœ… Obstacle Detection
   â†’ Red lidar points show obstacles
   â†’ Gaps indicate clear paths

âœ… Navigation Progress
   â†’ Watch robot move toward yellow sphere
   â†’ See speed changes (faster when closer)

âœ… Alert Generation
   â†’ Colored spheres appear on detection
   â†’ Text shows alert details

âœ… System Health
   â†’ All TF frames updating = healthy
   â†’ Lidar spinning = sensors working
   â†’ Robot model smooth = good odometry

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ ADVANCED: RUN RVIZ SEPARATELY                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

If you want to run RViz independently (not auto-launched):

1. Comment out RViz in launch file:
   Edit: adaptive_sound_follower.launch.py
   Comment the RViz node section

2. Launch system without RViz:
   ./demo.sh

3. Start RViz separately:
   ros2 launch whistle_detector rviz.launch.py

This gives you more control over when RViz starts.

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ’¡ QUICK TIPS                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â€¢ Press 'R' to reset view to default
â€¢ Use 'F' to focus on selected object
â€¢ Scroll to zoom, middle-click to pan
â€¢ The yellow pulsing sphere is your target!
â€¢ Red lidar dots = obstacles detected
â€¢ TF frames show robot orientation
â€¢ Alert markers stack up (max 30 seconds each)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“¸ WHAT IT LOOKS LIKE                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚         RViz2 Window                â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ Displays â”‚   3D View                â”‚
   â”‚          â”‚                           â”‚
   â”‚ â˜‘ Grid   â”‚     [Robot]  ğŸ”´ğŸ”´ğŸ”´       â”‚
   â”‚ â˜‘ TF     â”‚         â†“                â”‚
   â”‚ â˜‘ Robot  â”‚         Â·                â”‚
   â”‚ â˜‘ Lidar  â”‚         Â·                â”‚
   â”‚ â˜‘ Alerts â”‚         Â·                â”‚
   â”‚ â˜‘ Sound  â”‚         â†“                â”‚
   â”‚          â”‚       âš ï¸ Alert            â”‚
   â”‚          â”‚         â†“                â”‚
   â”‚          â”‚         â†“                â”‚
   â”‚          â”‚    ğŸ¯ [Target]           â”‚
   â”‚          â”‚       â¬‡ï¸                 â”‚
   â”‚          â”‚      ğŸ’› ~~~              â”‚
   â”‚          â”‚                           â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                           â•‘
â•‘  ğŸ‰ RVIZ IS NOW INTEGRATED! Just run: ./demo.sh                          â•‘
â•‘                                                                           â•‘
â•‘  Both Gazebo and RViz will open automatically!                           â•‘
â•‘                                                                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
